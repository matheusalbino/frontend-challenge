(this["webpackJsonpmetin2-rewards"]=this["webpackJsonpmetin2-rewards"]||[]).push([[0],{29:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c(1),i=c(9),s=c.n(i),n=c(7),l=(c(29),c(20)),d=function(e){var t=e.children;return Object(r.jsx)("div",{className:"w-full h-full bg-metin2 overflow-y-auto",children:Object(r.jsx)("div",{className:"container grid grid-cols-12 gap-4 h-full",children:t})})},m=c.p+"static/media/metin2-logo.efe18c5a.png",o=function(e){var t=e.children;return Object(r.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 grid grid-cols-12 gap-4 content-center",children:Object(r.jsx)("div",{className:"col-span-full md:col-start-4 md:col-end-10 lg:col-start-5 lg:col-end-9 p-4 border-b-2 border-primary-light bg-gray",children:t})})},u=c(5),j=c(23),b=c(4),x=function(e){var t=e.className,c=e.variant,a=void 0===c?"primary":c,i=e.type,s=void 0===i?"button":i,n=e.children,l=Object(j.a)(e,["className","variant","type","children"]);return Object(r.jsx)("button",Object(u.a)(Object(u.a)({type:s},l),{},{className:Object(b.a)("rounded py-1",{"border text-sm uppercase px-2 font-medium":"primary"===a,"border-primary-light bg-primary-light bg-opacity-10 text-primary-light":"primary"===a,"disabled:bg-transparent disabled:border-white disabled:border-opacity-25 disabled:text-white disabled:text-opacity-50":"primary"===a,"bg-primary-light px-4 text-white":"confirm"===a,"bg-white bg-opacity-25 px-4 text-white":"cancel"===a},t),children:n}))},p=function(e){var t=e.className;return Object(r.jsxs)("svg",{className:Object(b.a)("animate-spin text-white",t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(r.jsx)("circle",{className:"opacity-25 stroke-current",cx:"12",cy:"12",r:"10",strokeWidth:"4"}),Object(r.jsx)("path",{className:"opacity-75 fill-current",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},h=c(10),f=function(e){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",className:e.className,children:Object(r.jsx)("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z",className:"fill-current"})})},g=c(8);var O=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,c=Object(a.useState)((function(){return"number"===typeof e?0:""})),r=Object(g.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){if(void 0!==i){var c=setTimeout((function(){s(e)}),t);return function(){return clearTimeout(c)}}return function(){}}),[i,e,t]),i}(e.value);return Object(r.jsx)("div",{className:"h-2 w-full border border-primary-medium",children:Object(r.jsx)("div",{className:Object(b.a)("h-full transition-all duration-1000 easy-in",{"bg-primary-medium":t<100,"bg-primary-light":100===t}),style:{width:"".concat(t,"%")}})})},v=Object(h.For)((function(e){var t=e.data,c=e.onClick,a=e.redeemed,i=t.redeemed||null!==a&&void 0!==a&&a,s=!i&&t.percentage<100;return Object(r.jsxs)("li",{className:"flex flex-col md:flex-row items-center space-y-4 md:space-x-4 md:space-y-0 py-4",children:[Object(r.jsx)("img",{src:t.image,alt:t.name}),Object(r.jsxs)("div",{className:"w-full",children:[Object(r.jsxs)("div",{className:Object(b.a)("flex flex-col md:flex-row items-center text-sm justify-between w-full space-y-4 md:space-y-0",{"mb-4 md:mb-2":!i}),children:[Object(r.jsx)("p",{children:t.name}),i&&Object(r.jsxs)("p",{className:"flex items-center space-x-1 font-medium uppercase",children:[Object(r.jsx)(f,{className:"w-4 text-primary-light"}),Object(r.jsx)("span",{children:"Item Resgatado"})]}),!i&&Object(r.jsx)(x,{disabled:s,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return c(t.id)})),className:"w-full md:w-auto",children:"Resgatar"})]}),t.percentage<=100&&!i&&Object(r.jsx)(O,{value:t.percentage})]})]})})),w=Object(h.Repeat)((function(){return Object(r.jsxs)("li",{className:"flex flex-col md:flex-row items-center animate-pulse space-y-4 md:space-x-4 md:space-y-0 py-4",children:[Object(r.jsx)("div",{className:"w-12 h-12 bg-primary-medium rounded"}),Object(r.jsx)("div",{className:"w-full",children:Object(r.jsx)("div",{className:"flex items-center text-sm md:justify-between w-full flex-col md:flex-row space-y-4 md:space-y-0 px-8 md:px-0",children:Object(r.jsx)("div",{className:"w-full h-4 bg-primary-medium rounded"})})})]})})),y=c(11),N=c.n(y);function R(){return N.a.get("https://br.ongame.net/api/challenge/items/").then((function(e){return e.data}))}function k(e){return N.a.post("https://br.ongame.net/api/challenge/item/redeem/",JSON.stringify({item_id:e.rewardId})).then((function(e){return e.data}))}var S=function(){var e=function(){var e=Object(a.useState)(void 0),t=Object(g.a)(e,2),c=t[0],r=t[1],i=Object(n.c)(["rewards"],R),s=i.data,l=i.isFetching,d=Object(n.b)(k,{onSuccess:function(e){e.success&&r((function(e){if(void 0!==e)return Object(u.a)(Object(u.a)({},e),{},{redeemed:!0})}))}}),m=Object(g.a)(d,2);return{rewards:s,isLoadingRewards:l,redeem:m[0],isLoadingRedeem:m[1].isLoading,selectedReward:c,setSelectedReward:r}}(),t=e.isLoadingRewards,c=e.rewards,i=e.selectedReward,s=e.setSelectedReward,j=e.redeem,b=e.isLoadingRedeem;return Object(r.jsxs)(d,{children:[Object(r.jsx)(l.a,{children:Object(r.jsx)("title",{children:"Metin 2 - Resgate sua premia\xe7\xe3o"})}),Object(r.jsx)("div",{className:"col-span-full sm:col-start-2 sm:col-end-12 lg:col-start-4 lg:col-end-10 md:flex md:items-center h-full mt-12 md:mt-0",children:Object(r.jsxs)("div",{className:"w-full border-2 border-black bg-black bg-opacity-25 text-white p-5 space-y-5",children:[Object(r.jsx)("img",{src:m,alt:"Metin 2 Logo",className:"mx-auto w-2/3 md:w-1/3"}),Object(r.jsx)("p",{className:"text-center font-medium text-xl md:text-2xl text-shadow-primary-light",children:"Resgate sua premia\xe7\xe3o!"}),Object(r.jsxs)("ul",{className:"divide-y divide-primary-medium",children:[t&&Object(r.jsx)(w,{repeat:6}),void 0!==c&&Object(r.jsx)(v,{for:c,"for-key":function(e){return e.id},"for-redeemed":function(e){var t;return null!==(t=(null===i||void 0===i?void 0:i.id)===e.id&&(null===i||void 0===i?void 0:i.redeemed))&&void 0!==t&&t},onClick:function(e){s(c.find((function(t){return t.id===e})))}})]})]})}),!1===(null===i||void 0===i?void 0:i.redeemed)&&Object(r.jsxs)(o,{children:[b&&Object(r.jsxs)("div",{className:"text-center space-y-6",children:[Object(r.jsx)("p",{className:"uppercase font-medium text-3xl text-primary-light",children:"Resgatando"}),Object(r.jsx)(p,{className:"mx-auto w-12"})]}),!b&&Object(r.jsxs)("div",{className:"text-center space-y-6",children:[Object(r.jsx)("p",{className:"uppercase font-medium text-3xl text-primary-light",children:"Deseja Resgatar?"}),Object(r.jsxs)("div",{className:"space-y-4",children:[Object(r.jsx)("img",{src:i.image,alt:i.name,className:"mx-auto"}),Object(r.jsx)("p",{className:"text-white",children:i.name})]}),Object(r.jsxs)("div",{className:"space-x-4",children:[Object(r.jsx)(x,{variant:"confirm",onClick:function(){return j({rewardId:i.id})},children:"Sim"}),Object(r.jsx)(x,{variant:"cancel",onClick:function(){return s(void 0)},children:"N\xe3o"})]})]})]})]})};s.a.render(Object(r.jsx)(a.StrictMode,{children:Object(r.jsx)(n.a,{config:{queries:{cacheTime:0,staleTime:0,retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!0,keepPreviousData:!1},mutations:{},shared:{suspense:!1}},children:Object(r.jsx)(S,{})})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.36263ec2.chunk.js.map